import sys
from abc import ABC

from problemset import AbstractProblemset


class Problemset(AbstractProblemset, ABC):

    @staticmethod
    def default_pose(problemset):
        return [0.0, 0.5, 0.5, 0.0, 0.0, 0.0]

    @staticmethod
    def default_joint_values(problemset):
        return [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]

    @staticmethod
    def states(problemset):
        if problemset == "lab":
            n_states = 17
            states = [list() for _ in range(n_states)]
            states[0] = [0, 0, 0, 0, 0, 0, 0]
            states[1] = [-0.8, -1.70, 1.64, 1.29, 1.1, -0.106, 2.2 - 3.1415/2 * 3]
            states[2] = [-0.24211316, 1.38721468, -0.20294616, 0.18787464, 0.0819978, -0.00455527, 0.86811348]
            states[3] = [ 0.04295548, 0.95584516, -0.96807816, 0.97116162, 0.9778903, 0.65763463, -0.68464669] # top
            states[4] = [ 0.16082985, 1.11182696, -0.92183762, 0.3794195,   1.23 ,       0.47523424, -0.27413472] # top 
            states[5] = [ 0.09952304, 1.09863569, -0.88496722, 0.38292964, 1.23, 0.41536308, -0.38031438] # top
            states[6] = [ 0.10052545, 1.06389854, -1.09858978, 0.48121717, 0.76275836, 1.38780074, 0.79727844] # top
            states[7] = [-0.45014853, 1.59318377, 0.4554682, 0.6065858, -0.38585459, 0.53452102, 0.00784768] # bottom
            states[8] = [-0.34010213,  1.6881081,   0.98402557, 0.51367941, -2.39890266, -0.58455747, 1.01213727] # bottom
            states[9] = [-0.22101804, 1.66367157, 1.09508804, 0.56299024, -2.89040372, -0.59143963, 1.31477334] # bottom
            states[10] = [-0.67729868, 1.64146044, 1.12373694, 0.91912803, -3.17152523, -0.89928808, 1.388017  ] # bottom
            states[11] = [-1.36399638, 1.91753362, 1.32779556, 2.07333031, 0.8333524, 0.08067977, -2.31735325] # bottom
            states[12] = [-0.87877812, 1.64645585, 1.34329545, 1.62880413, 0.84055928, -0.0062247, -2.29039162] # bottom
            states[13] = [ 1.38153424, 1.78324208, 0.18278696, 0.43210283, -1.62168076, 1.01491547, 2.18338891] # table
            states[14] = [ 1.60174351, 1.74358664, 0.12658995, 0.20548551, -1.48280243, 0.92108951, 2.38725579] # table
            states[15] = [ 1.9937845, 1.52197993, 0.44538624, 1.10392873, -1.28498349, 1.32703383, 2.49745328] # table
            states[16] = [-1.29228216, -1.90587936, 1.65480383, 0.20854488, 0.6896924, 0.52053023, -2.4882973 ] # table
            
        if problemset == "industrial":
            n_states = 10
            states = [list() for _ in range(n_states)]
            states[0] = [0, 0, 0, 0, 0, 0, 0]
            states[1] = [0.9451404199026255, 0.05808521969095677, -0.3527564807017076, 1.0823735126667904, 0.08740831834786257, 0.7376408146933362, 1.5098142718954632]
            states[2] = [-1.4548690545527045, 0.40399675516342876, -0.9945734983388278, 0.37820194464231643, 1.2281017872935562, 1.009410146063119, 2.611554814425129]
            states[3] = [-1.2400057399817872, 0.5010051444244594, -0.7076935900700043, 0.25560147176881626, 1.250001164738528, 0.5877714700901333, 2.5192083678636834]
            states[4] = [0.041663608085254385, 0.34120856634159363, 0.43008822020100673, 0.702943039159143, -0.16757897004789024, 1.563316046005619, 1.9376507564619156]
            states[5] = [-0.0582735966725182, 0.3525177492274033, 0.04366314096002978, 1.0289716847892092, -1.1222444035488734, 1.5448702100587353, -1.8702188740770749]
            states[6] = [0.209152247431932, 0.39274675238945667, -0.07081202798558968, 0.83942333888157, -1.2917110514409134, 0.7491127213539474, -1.034320064356657]
            states[7] = [-0.9294721222524771, 0.3945218207628919, 0.25751742097326225, 0.635902417477271, -0.07270357592231975, 1.1093899065926003, 2.8813557378035326]
            states[8] = [0.6478256551868494, 0.4760895207119921, 0.2405648101744346, 0.6639301477277679, -0.8958582955276541, 0.7198592006957218, -0.5004250661217159]
            states[9] = [-1.7282127065673578, 0.09888218122066639, 0.19736163924951683, 1.2625983412082895, 0.2961151699367499, 0.6170075248906132, -0.034513110561670564]
            

        return n_states, states

    @staticmethod
    def joint_names(problemset):
        return ["wam/base_yaw_joint",
         "wam/shoulder_pitch_joint",
         "wam/shoulder_yaw_joint",
         "wam/elbow_pitch_joint",
         "wam/wrist_yaw_joint",
         "wam/wrist_pitch_joint",
         "wam/palm_yaw_joint"]
